export QT_SELECT = qt5

VERSION_FILE						:= neutrino/core/version.cc

PROJECTS += xefis
PROJECTS.xefis.ldflags				= $(PROJECTS.neutrino.ldflags)
PROJECTS.xefis.cxxflags				= $(PROJECTS.neutrino.cxxflags)
PROJECTS.xefis.defines				= $(PROJECTS.neutrino.defines)
PROJECTS.xefis.pkgconfigs			+= Qt5Core Qt5Gui Qt5Network Qt5Xml Qt5Widgets Qt5X11Extras Qt5Svg Qt5OpenGL zlib libcryptopp
PROJECTS.xefis.libraries			+= m boost_system boost_filesystem boost_random pthread X11 stdc++fs GL GLU
PROJECTS.xefis.includes				+= lib/type_safe/include/
PROJECTS.xefis.includes				+= lib/type_safe/external/debug_assert/
PROJECTS.xefis.includes				+= lib/GSL/include/
PROJECTS.xefis.files				+= $(PROJECTS.neutrino.files)
PROJECTS.xefis.files_moc			+= $(PROJECTS.neutrino.files_moc)
PROJECTS.xefis.files				+= $(VERSION_FILE)
PROJECTS.xefis.files				+= xefis/app/xefis.cc
PROJECTS.xefis.files_moc			+= xefis/app/xefis.h
PROJECTS.xefis.files				+= xefis/app/xefis_executable.cc
PROJECTS.xefis.files				+= xefis/config/all.h
PROJECTS.xefis.files				+= xefis/config/core_types.h
PROJECTS.xefis.files				+= xefis/config/resources.h
PROJECTS.xefis.files				+= xefis/core/components/configurator/configurator_widget.cc
PROJECTS.xefis.files				+= xefis/core/components/configurator/configurator_widget.h
PROJECTS.xefis.files				+= xefis/core/components/data_recorder/data_recorder.cc
PROJECTS.xefis.files				+= xefis/core/components/data_recorder/data_recorder.h
PROJECTS.xefis.files				+= xefis/core/components/data_recorder/graphs_stack.cc
PROJECTS.xefis.files				+= xefis/core/components/data_recorder/graphs_stack.h
PROJECTS.xefis.files				+= xefis/core/components/data_recorder/graph_widget.cc
PROJECTS.xefis.files				+= xefis/core/components/data_recorder/graph_widget.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/configurable_items_list.cc
PROJECTS.xefis.files_moc			+= xefis/core/components/module_configurator/configurable_items_list.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/config_widget.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/config_widget.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/module_configurator.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/module_configurator.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/module_item.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/module_item.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/module_widget.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/module_widget.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/processing_loop_item.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/processing_loop_item.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/processing_loop_widget.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/processing_loop_widget.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/screen_item.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/screen_item.h
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/screen_widget.cc
PROJECTS.xefis.files				+= xefis/core/components/module_configurator/screen_widget.h
PROJECTS.xefis.files				+= xefis/core/components/socket_tree/socket_item.cc
PROJECTS.xefis.files				+= xefis/core/components/socket_tree/socket_item.h
PROJECTS.xefis.files				+= xefis/core/components/socket_tree/socket_tree.cc
PROJECTS.xefis.files				+= xefis/core/components/socket_tree/socket_tree.h
PROJECTS.xefis.files				+= xefis/core/sockets/assignable_socket.h
PROJECTS.xefis.files				+= xefis/core/sockets/basic_assignable_socket.h
PROJECTS.xefis.files				+= xefis/core/sockets/basic_module_in.h
PROJECTS.xefis.files				+= xefis/core/sockets/basic_module_out.h
PROJECTS.xefis.files				+= xefis/core/sockets/basic_module_socket.h
PROJECTS.xefis.files				+= xefis/core/sockets/basic_socket.h
PROJECTS.xefis.files				+= xefis/core/sockets/common.h
PROJECTS.xefis.files				+= xefis/core/sockets/connectable_socket.cc
PROJECTS.xefis.files				+= xefis/core/sockets/connectable_socket.h
PROJECTS.xefis.files				+= xefis/core/sockets/constant_source.h
PROJECTS.xefis.files				+= xefis/core/sockets/exception.cc
PROJECTS.xefis.files				+= xefis/core/sockets/exception.h
PROJECTS.xefis.files				+= xefis/core/sockets/identifier.h
PROJECTS.xefis.files				+= xefis/core/sockets/module_in.h
PROJECTS.xefis.files				+= xefis/core/sockets/module_out.h
PROJECTS.xefis.files				+= xefis/core/sockets/module_socket.h
PROJECTS.xefis.files				+= xefis/core/sockets/module_socket_path.h
PROJECTS.xefis.files				+= xefis/core/sockets/socket.h
PROJECTS.xefis.files				+= xefis/core/sockets/socket_converter.h
PROJECTS.xefis.files				+= xefis/core/sockets/socket_traits.h
PROJECTS.xefis.files				+= xefis/core/cycle.h
PROJECTS.xefis.files				+= xefis/core/executable.h
PROJECTS.xefis.files				+= xefis/core/graphics.cc
PROJECTS.xefis.files				+= xefis/core/graphics.h
PROJECTS.xefis.files				+= xefis/core/instrument.h
PROJECTS.xefis.files				+= xefis/core/licenses.cc
PROJECTS.xefis.files				+= xefis/core/licenses.h
PROJECTS.xefis.files				+= xefis/core/machine.cc
PROJECTS.xefis.files				+= xefis/core/machine.h
PROJECTS.xefis.files				+= xefis/core/module.cc
PROJECTS.xefis.files				+= xefis/core/module.h
PROJECTS.xefis.files				+= xefis/core/paint_request.h
PROJECTS.xefis.files				+= xefis/core/panel.cc
PROJECTS.xefis.files_moc			+= xefis/core/panel.h
PROJECTS.xefis.files				+= xefis/core/processing_loop.cc
PROJECTS.xefis.files_moc			+= xefis/core/processing_loop.h
PROJECTS.xefis.files				+= xefis/core/screen.cc
PROJECTS.xefis.files_moc			+= xefis/core/screen.h
PROJECTS.xefis.files				+= xefis/core/screen_spec.h
PROJECTS.xefis.files				+= xefis/core/setting.h
PROJECTS.xefis.files				+= xefis/core/system.cc
PROJECTS.xefis.files				+= xefis/modules/comm/flight_gear.cc
PROJECTS.xefis.files_moc			+= xefis/modules/comm/flight_gear.h
PROJECTS.xefis.files				+= xefis/modules/comm/link/input_link.cc
PROJECTS.xefis.files_moc			+= xefis/modules/comm/link/input_link.h
PROJECTS.xefis.files				+= xefis/modules/comm/link/output_link.cc
PROJECTS.xefis.files				+= xefis/modules/comm/link/output_link.h
PROJECTS.xefis.files				+= xefis/modules/comm/link/link_protocol.cc
PROJECTS.xefis.files				+= xefis/modules/comm/link/link_protocol.h
PROJECTS.xefis.files				+= xefis/modules/comm/udp.cc
PROJECTS.xefis.files_moc			+= xefis/modules/comm/udp.h
PROJECTS.xefis.files				+= xefis/modules/comm/xle_transceiver.cc
PROJECTS.xefis.files				+= xefis/modules/comm/xle_transceiver.h
PROJECTS.xefis.files				+= xefis/modules/helpers/mixer.h
PROJECTS.xefis.files				+= xefis/modules/instruments/adi.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/adi.h
PROJECTS.xefis.files				+= xefis/modules/instruments/gauge.h
PROJECTS.xefis.files				+= xefis/modules/instruments/datatable.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/datatable.h
PROJECTS.xefis.files				+= xefis/modules/instruments/debug_forces.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/debug_forces.h
PROJECTS.xefis.files				+= xefis/modules/instruments/flaps.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/flaps.h
PROJECTS.xefis.files				+= xefis/modules/instruments/gear.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/gear.h
PROJECTS.xefis.files				+= xefis/modules/instruments/horizontal_trim.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/horizontal_trim.h
PROJECTS.xefis.files				+= xefis/modules/instruments/hsi.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/hsi.h
PROJECTS.xefis.files				+= xefis/modules/instruments/label.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/label.h
PROJECTS.xefis.files				+= xefis/modules/instruments/linear_gauge.h
PROJECTS.xefis.files				+= xefis/modules/instruments/radial_gauge.h
PROJECTS.xefis.files				+= xefis/modules/instruments/status.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/status.h
PROJECTS.xefis.files				+= xefis/modules/instruments/vertical_trim.cc
PROJECTS.xefis.files				+= xefis/modules/instruments/vertical_trim.h
PROJECTS.xefis.files				+= xefis/modules/io/bmp085.cc
PROJECTS.xefis.files_moc			+= xefis/modules/io/bmp085.h
PROJECTS.xefis.files				+= xefis/modules/io/chr_um6.cc
PROJECTS.xefis.files_moc			+= xefis/modules/io/chr_um6.h
PROJECTS.xefis.files				+= xefis/modules/io/ets_airspeed.cc
PROJECTS.xefis.files_moc			+= xefis/modules/io/ets_airspeed.h
PROJECTS.xefis.files				+= xefis/modules/io/gps.cc
PROJECTS.xefis.files_moc			+= xefis/modules/io/gps.h
PROJECTS.xefis.files				+= xefis/modules/io/joystick.cc
PROJECTS.xefis.files_moc			+= xefis/modules/io/joystick.h
PROJECTS.xefis.files				+= xefis/modules/io/xbee.cc
PROJECTS.xefis.files_moc			+= xefis/modules/io/xbee.h
PROJECTS.xefis.files				+= xefis/modules/log/klog_monitor.cc
PROJECTS.xefis.files_moc			+= xefis/modules/log/klog_monitor.h
PROJECTS.xefis.files				+= xefis/modules/simulation/virtual_joystick.cc
PROJECTS.xefis.files				+= xefis/modules/simulation/virtual_joystick.h
#PROJECTS.xefis.files				+= xefis/modules/simulation/virtual_pressure_sensor.cc
#PROJECTS.xefis.files				+= xefis/modules/simulation/virtual_pressure_sensor.h
#PROJECTS.xefis.files				+= xefis/modules/simulation/virtual_temperature_sensor.cc
#PROJECTS.xefis.files				+= xefis/modules/simulation/virtual_temperature_sensor.h
PROJECTS.xefis.files				+= xefis/modules/systems/adc.cc
PROJECTS.xefis.files				+= xefis/modules/systems/adc.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_ap.cc
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_ap.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_api.cc
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_api.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_at.cc
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_at.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs.cc
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_eac_yd.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_eac_yd.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_fd_pitch.cc
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_fd_pitch.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_fd_roll.cc
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_fd_roll.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs.h
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_roll_autotrim.cc
PROJECTS.xefis.files				+= xefis/modules/systems/afcs_roll_autotrim.h
PROJECTS.xefis.files				+= xefis/modules/systems/altacq.cc
PROJECTS.xefis.files				+= xefis/modules/systems/altacq.h
PROJECTS.xefis.files				+= xefis/modules/systems/arrival_eta.cc
PROJECTS.xefis.files				+= xefis/modules/systems/arrival_eta.h
PROJECTS.xefis.files				+= xefis/modules/systems/engine_torque.cc
PROJECTS.xefis.files				+= xefis/modules/systems/engine_torque.h
PROJECTS.xefis.files				+= xefis/modules/systems/flaps_bugs.cc
PROJECTS.xefis.files				+= xefis/modules/systems/flaps_bugs.h
PROJECTS.xefis.files				+= xefis/modules/systems/flaps_control.cc
PROJECTS.xefis.files				+= xefis/modules/systems/flaps_control.h
PROJECTS.xefis.files				+= xefis/modules/systems/nc.cc
PROJECTS.xefis.files				+= xefis/modules/systems/nc.h
PROJECTS.xefis.files				+= xefis/modules/systems/pc.cc
PROJECTS.xefis.files				+= xefis/modules/systems/pc.h
PROJECTS.xefis.files				+= xefis/modules/systems/rcms.cc
PROJECTS.xefis.files				+= xefis/modules/systems/rcms.h
PROJECTS.xefis.files				+= xefis/modules/systems/speeds.cc
PROJECTS.xefis.files				+= xefis/modules/systems/speeds.h
PROJECTS.xefis.files				+= xefis/modules/systems/trim_control.cc
PROJECTS.xefis.files				+= xefis/modules/systems/trim_control.h
PROJECTS.xefis.files				+= xefis/modules/systems/vor.cc
PROJECTS.xefis.files				+= xefis/modules/systems/vor.h
PROJECTS.xefis.files				+= xefis/modules/systems/watchdog.cc
PROJECTS.xefis.files				+= xefis/modules/systems/watchdog.h
PROJECTS.xefis.files				+= xefis/modules/test/imu_cpf.cc
PROJECTS.xefis.files				+= xefis/modules/test/imu_cpf.h
PROJECTS.xefis.files				+= xefis/modules/test/test_generator.cc
PROJECTS.xefis.files				+= xefis/modules/test/test_generator.h
PROJECTS.xefis.files				+= xefis/support/aerodynamics/airfoil.cc
PROJECTS.xefis.files				+= xefis/support/aerodynamics/airfoil.h
PROJECTS.xefis.files				+= xefis/support/aerodynamics/airfoil_characteristics.cc
PROJECTS.xefis.files				+= xefis/support/aerodynamics/airfoil_characteristics.h
PROJECTS.xefis.files				+= xefis/support/aerodynamics/airfoil_spline.cc
PROJECTS.xefis.files				+= xefis/support/aerodynamics/airfoil_spline.h
PROJECTS.xefis.files				+= xefis/support/aerodynamics/angle_of_attack.h
PROJECTS.xefis.files				+= xefis/support/aerodynamics/reynolds.h
PROJECTS.xefis.files				+= xefis/support/airframe/airframe.cc
PROJECTS.xefis.files				+= xefis/support/airframe/airframe.h
PROJECTS.xefis.files				+= xefis/support/airframe/drag.cc
PROJECTS.xefis.files				+= xefis/support/airframe/drag.h
PROJECTS.xefis.files				+= xefis/support/airframe/flaps.h
PROJECTS.xefis.files				+= xefis/support/airframe/lift.cc
PROJECTS.xefis.files				+= xefis/support/airframe/lift.h
PROJECTS.xefis.files				+= xefis/support/airframe/lift_mod.cc
PROJECTS.xefis.files				+= xefis/support/airframe/lift_mod.h
PROJECTS.xefis.files				+= xefis/support/airframe/spoilers.h
PROJECTS.xefis.files				+= xefis/support/control/pid_controller.h
PROJECTS.xefis.files				+= xefis/support/crypto/xle/handshake.cc
PROJECTS.xefis.files				+= xefis/support/crypto/xle/handshake.h
PROJECTS.xefis.files				+= xefis/support/crypto/xle/transport.cc
PROJECTS.xefis.files				+= xefis/support/crypto/xle/transport.h
PROJECTS.xefis.files				+= xefis/support/devices/chr_um6.cc
PROJECTS.xefis.files				+= xefis/support/devices/chr_um6.h
PROJECTS.xefis.files				+= xefis/support/devices/ht16k33.cc
PROJECTS.xefis.files_moc			+= xefis/support/devices/ht16k33.h
PROJECTS.xefis.files				+= xefis/support/devices/pca9685.cc
PROJECTS.xefis.files_moc			+= xefis/support/devices/pca9685.h
PROJECTS.xefis.files				+= xefis/support/earth/air/air.h
PROJECTS.xefis.files				+= xefis/support/earth/air/atmosphere_model.h
PROJECTS.xefis.files				+= xefis/support/earth/air/standard_atmosphere.cc
PROJECTS.xefis.files				+= xefis/support/earth/air/standard_atmosphere.h
PROJECTS.xefis.files				+= xefis/support/earth/earth.cc
PROJECTS.xefis.files				+= xefis/support/earth/earth.h
PROJECTS.xefis.files				+= xefis/support/earth/navigation/magnetic_variation.cc
PROJECTS.xefis.files				+= xefis/support/earth/navigation/magnetic_variation.h
PROJECTS.xefis.files				+= xefis/support/earth/navigation/navaid.h
PROJECTS.xefis.files				+= xefis/support/earth/navigation/navaid_storage.cc
PROJECTS.xefis.files				+= xefis/support/earth/navigation/navaid_storage.h
PROJECTS.xefis.files				+= xefis/support/earth/navigation/wind_triangle.h
PROJECTS.xefis.files				+= xefis/support/geometry/triangle.h>
PROJECTS.xefis.files				+= xefis/support/geometry/triangulation.h
PROJECTS.xefis.files				+= xefis/support/instrument/instrument_aids.cc
PROJECTS.xefis.files				+= xefis/support/instrument/instrument_aids.h
PROJECTS.xefis.files				+= xefis/support/instrument/instrument_painter.cc
PROJECTS.xefis.files				+= xefis/support/instrument/instrument_painter.h
PROJECTS.xefis.files				+= xefis/support/instrument/instrument_support.h
PROJECTS.xefis.files				+= xefis/support/instrument/shadow.h
PROJECTS.xefis.files				+= xefis/support/instrument/shadow_painter.cc
PROJECTS.xefis.files				+= xefis/support/instrument/shadow_painter.h
PROJECTS.xefis.files				+= xefis/support/instrument/text_layout.cc
PROJECTS.xefis.files				+= xefis/support/instrument/text_layout.h
PROJECTS.xefis.files				+= xefis/support/instrument/text_painter.cc
PROJECTS.xefis.files				+= xefis/support/instrument/text_painter.h
PROJECTS.xefis.files				+= xefis/support/math/euler_angles.h
PROJECTS.xefis.files				+= xefis/support/math/geometry.h
PROJECTS.xefis.files				+= xefis/support/math/lonlat_radius.h
PROJECTS.xefis.files				+= xefis/support/math/north_east_down.h
PROJECTS.xefis.files				+= xefis/support/math/placement.h
PROJECTS.xefis.files				+= xefis/support/math/tait_bryan_angles.h
PROJECTS.xefis.files				+= xefis/support/math/transforms.cc
PROJECTS.xefis.files				+= xefis/support/math/transforms.h
PROJECTS.xefis.files				+= xefis/support/nature/acceleration_moments.h
PROJECTS.xefis.files				+= xefis/support/nature/constants.h
PROJECTS.xefis.files				+= xefis/support/nature/force_moments.h
PROJECTS.xefis.files				+= xefis/support/nature/mass_moments.h
PROJECTS.xefis.files				+= xefis/support/nature/velocity_moments.h
PROJECTS.xefis.files				+= xefis/support/nature/wrench.h
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/exceptions.h
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/gps.cc
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/gps.h
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/mtk.cc
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/mtk.h
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/nmea.cc
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/nmea.h
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/parser.cc
PROJECTS.xefis.files				+= xefis/support/protocols/nmea/parser.h
PROJECTS.xefis.files				+= xefis/support/qt/ownership_breaker.cc
PROJECTS.xefis.files				+= xefis/support/qt/ownership_breaker.h
PROJECTS.xefis.files				+= xefis/support/simulation/components/capacitor.h
PROJECTS.xefis.files				+= xefis/support/simulation/components/resistor.h
PROJECTS.xefis.files				+= xefis/support/simulation/components/voltage_source.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/helpers/fixed_orientation_helper.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/angular_limits_constraint.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/angular_limits_constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/angular_servo_constraint.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/angular_servo_constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/angular_spring_constraint.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/angular_spring_constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/fixed_constraint.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/fixed_constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/hinge_constraint.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/hinge_constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/hinge_precalculation.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/hinge_precalculation.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/linear_limits_constraint.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/linear_limits_constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/slider_constraint.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/slider_constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/slider_precalculation.cc
PROJECTS.xefis.files				+= xefis/support/simulation/constraints/slider_precalculation.h
PROJECTS.xefis.files				+= xefis/support/simulation/devices/interfaces/servo.h
PROJECTS.xefis.files				+= xefis/support/simulation/devices/angular_servo.cc
PROJECTS.xefis.files				+= xefis/support/simulation/devices/angular_servo.h
PROJECTS.xefis.files				+= xefis/support/simulation/devices/wing.cc
PROJECTS.xefis.files				+= xefis/support/simulation/devices/wing.h
PROJECTS.xefis.files				+= xefis/support/simulation/electrical/element.h
PROJECTS.xefis.files				+= xefis/support/simulation/electrical/exception.h
PROJECTS.xefis.files				+= xefis/support/simulation/electrical/network.h
PROJECTS.xefis.files				+= xefis/support/simulation/electrical/node.cc
PROJECTS.xefis.files				+= xefis/support/simulation/electrical/node.h
PROJECTS.xefis.files				+= xefis/support/simulation/electrical/node_voltage_solver.cc
PROJECTS.xefis.files				+= xefis/support/simulation/electrical/node_voltage_solver.h
PROJECTS.xefis.files				+= xefis/support/simulation/failure/sigmoidal_temperature_failure.cc
PROJECTS.xefis.files				+= xefis/support/simulation/failure/sigmoidal_temperature_failure.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/body.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/body.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/connected_bodies.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/constraint.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/frame_precalculation.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/frames.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/group.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/group.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/impulse_solver.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/impulse_solver.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/system.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/system.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/shape.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/shape.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/shape_material.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/shape_vertex.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/shape_vertex.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/utility.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/utility.h
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/various_shapes.cc
PROJECTS.xefis.files				+= xefis/support/simulation/rigid_body/various_shapes.h
PROJECTS.xefis.files				+= xefis/support/simulation/simulation.cc
PROJECTS.xefis.files				+= xefis/support/simulation/simulation.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_action.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_button.cc
PROJECTS.xefis.files				+= xefis/support/sockets/socket_button.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_changed.cc
PROJECTS.xefis.files				+= xefis/support/sockets/socket_changed.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_delta_decoder.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_observer.cc
PROJECTS.xefis.files				+= xefis/support/sockets/socket_observer.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_quadrature_counter.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_quadrature_decoder.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_value_changed.h
PROJECTS.xefis.files				+= xefis/support/sockets/socket_value_changed_action.h
PROJECTS.xefis.files				+= xefis/support/ui/canvas_widget.cc
PROJECTS.xefis.files				+= xefis/support/ui/canvas_widget.h
PROJECTS.xefis.files				+= xefis/support/ui/gl_animation_widget.cc
PROJECTS.xefis.files				+= xefis/support/ui/gl_animation_widget.h
PROJECTS.xefis.files				+= xefis/support/ui/gl_space.cc
PROJECTS.xefis.files				+= xefis/support/ui/gl_space.h
PROJECTS.xefis.files				+= xefis/support/ui/histogram_stats_widget.cc
PROJECTS.xefis.files				+= xefis/support/ui/histogram_stats_widget.h
PROJECTS.xefis.files				+= xefis/support/ui/histogram_widget.cc
PROJECTS.xefis.files				+= xefis/support/ui/histogram_widget.h
PROJECTS.xefis.files				+= xefis/support/ui/paint_helper.cc
PROJECTS.xefis.files				+= xefis/support/ui/paint_helper.h
PROJECTS.xefis.files				+= xefis/support/ui/rigid_body_painter.cc
PROJECTS.xefis.files				+= xefis/support/ui/rigid_body_painter.h
PROJECTS.xefis.files				+= xefis/support/ui/rigid_body_viewer.cc
PROJECTS.xefis.files				+= xefis/support/ui/rigid_body_viewer.h
PROJECTS.xefis.files_moc			+= xefis/support/ui/rigid_body_viewer.h
PROJECTS.xefis.files				+= xefis/support/ui/sound_manager.cc
PROJECTS.xefis.files				+= xefis/support/ui/sound_manager.h
PROJECTS.xefis.files				+= xefis/support/ui/widget.cc
PROJECTS.xefis.files				+= xefis/support/ui/widget.h
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/group_box.cc TODO
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/group_box.h TODO
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/panel_button.cc TODO
#PROJECTS.xefis.files_moc			+= xefis/support/ui/widgets/panel_button.h TODO
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/panel_numeric_display.cc TODO
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/panel_numeric_display.h TODO
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/panel_rotary_encoder.cc TODO
#PROJECTS.xefis.files_moc			+= xefis/support/ui/widgets/panel_rotary_encoder.h TODO
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/panel_widget.cc TODO
#PROJECTS.xefis.files				+= xefis/support/ui/widgets/panel_widget.h TODO
PROJECTS.xefis.files				+= xefis/utility/blob.h
PROJECTS.xefis.files				+= xefis/utility/convergence.h
PROJECTS.xefis.files				+= xefis/utility/event_timestamper.h
PROJECTS.xefis.files				+= xefis/utility/hextable.h
PROJECTS.xefis.files				+= xefis/utility/is_optional.h
PROJECTS.xefis.files				+= xefis/utility/kde.cc
PROJECTS.xefis.files				+= xefis/utility/kde.h
PROJECTS.xefis.files				+= xefis/utility/lookahead.h
PROJECTS.xefis.files				+= xefis/utility/named_instance.h
PROJECTS.xefis.files				+= xefis/utility/packet_reader.cc
PROJECTS.xefis.files				+= xefis/utility/packet_reader.h
PROJECTS.xefis.files				+= xefis/utility/range_smoother.h
PROJECTS.xefis.files				+= xefis/utility/smoother.h
PROJECTS.xefis.files				+= xefis/utility/string.h
PROJECTS.xefis.files				+= xefis/utility/temporal.h
PROJECTS.xefis.files				+= xefis/utility/transistor.h
PROJECTS.xefis.files				+= xefis/xefis_machine.h

PROJECTS += xefis_test
PROJECTS.xefis_test.ldflags			= $(PROJECTS.neutrino.ldflags)
PROJECTS.xefis_test.cxxflags		= $(PROJECTS.neutrino.cxxflags)
PROJECTS.xefis_test.defines			= $(PROJECTS.neutrino.defines)
PROJECTS.xefis_test.pkgconfigs		+= $(PROJECTS.neutrino.pkgconfigs)
PROJECTS.xefis_test.pkgconfigs		+= $(PROJECTS.xefis.pkgconfigs)
PROJECTS.xefis_test.libraries		+= $(PROJECTS.neutrino.libraries)
PROJECTS.xefis_test.libraries		+= $(PROJECTS.xefis.libraries)
PROJECTS.xefis_test.files			+= $(VERSION_FILE)
PROJECTS.xefis_test.files_moc		+= $(PROJECTS.xefis.files_moc)
PROJECTS.xefis_test.files			+= $(filter-out xefis/app/xefis_executable.cc,$(PROJECTS.xefis.files))

PROJECTS += xefis_autotest
PROJECTS.xefis_autotest.ldflags		= $(PROJECTS.neutrino.ldflags)
PROJECTS.xefis_autotest.cxxflags	= $(PROJECTS.neutrino.cxxflags)
PROJECTS.xefis_autotest.defines		= $(PROJECTS.neutrino.defines)
PROJECTS.xefis_autotest.executable	= autotest
PROJECTS.xefis_autotest.pkgconfigs	+= $(PROJECTS.xefis_test.pkgconfigs)
PROJECTS.xefis_autotest.libraries	+= $(PROJECTS.xefis_test.libraries)
PROJECTS.xefis_autotest.files		+= $(PROJECTS.xefis_test.files)
PROJECTS.xefis_autotest.files_moc	+= $(PROJECTS.xefis_test.files_moc)
PROJECTS.xefis_autotest.files		+= $(PROJECTS.neutrino_autotest.files)
PROJECTS.xefis_autotest.files_moc	+= $(PROJECTS.neutrino_autotest.files_moc)
PROJECTS.xefis_autotest.files		+= xefis/app/autotest_executable.cc
PROJECTS.xefis_autotest.files		+= xefis/core/sockets/tests/module_socket.test.cc
PROJECTS.xefis_autotest.files		+= xefis/core/sockets/tests/test_cycle.h
PROJECTS.xefis_autotest.files		+= xefis/modules/comm/link/tests/link.test.cc
PROJECTS.xefis_autotest.files		+= xefis/modules/comm/tests/xle_transceiver.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/crypto/xle/tests/handshake.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/crypto/xle/tests/transport.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/earth/air/atmosphere_model.h
PROJECTS.xefis_autotest.files		+= xefis/support/earth/tests/standard_atmosphere.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/nature/tests/nature.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/simulation/electrical/tests/network.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/simulation/failure/tests/sigmoidal_temperature_failure.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/simulation/rigid_body/tests/simulation.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/simulation/rigid_body/tests/system.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/sockets/tests/socket_observer.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/sockets/tests/socket_delta_decoder.test.cc
PROJECTS.xefis_autotest.files		+= xefis/support/sockets/tests/socket_quadrature_decoder.test.cc

PROJECTS += xefis_manualtest
PROJECTS.xefis_manualtest.ldflags		= $(PROJECTS.neutrino.ldflags)
PROJECTS.xefis_manualtest.cxxflags		= $(PROJECTS.neutrino.cxxflags)
PROJECTS.xefis_manualtest.defines		= $(PROJECTS.neutrino.defines)
PROJECTS.xefis_manualtest.executable	= manualtest
PROJECTS.xefis_manualtest.files			+= $(PROJECTS.neutrino_manualtest.files)
PROJECTS.xefis_manualtest.files_moc		+= $(PROJECTS.neutrino_manualtest.files_moc)
PROJECTS.xefis_manualtest.pkgconfigs	+= $(PROJECTS.xefis_test.pkgconfigs)
PROJECTS.xefis_manualtest.libraries		+= $(PROJECTS.xefis_test.libraries)
PROJECTS.xefis_manualtest.files			+= $(PROJECTS.xefis_test.files)
PROJECTS.xefis_manualtest.files_moc		+= $(PROJECTS.xefis_test.files_moc)
PROJECTS.xefis_manualtest.files			+= xefis/app/manualtest_executable.cc
PROJECTS.xefis_manualtest.files			+= xefis/support/geometry/tests/triangulation.test.cc
PROJECTS.xefis_manualtest.files			+= xefis/support/simulation/rigid_body/tests/system.test.cc

PROJECTS += watchdog
PROJECTS.watchdog.ldflags			= $(PROJECTS.neutrino.ldflags)
PROJECTS.watchdog.cxxflags			= $(PROJECTS.neutrino.cxxflags)
PROJECTS.watchdog.defines			= $(PROJECTS.neutrino.defines)
PROJECTS.watchdog.executable		= watchdog
PROJECTS.watchdog.files				+= $(PROJECTS.neutrino.files)
PROJECTS.watchdog.files_moc			+= $(PROJECTS.neutrino.files_moc)
PROJECTS.watchdog.files				+= $(VERSION_FILE)
PROJECTS.watchdog.files				+= xefis/app/watchdog_executable.cc

################

# Convenience shortcut:
.PHONY: autotest
autotest: $(call mktarget,$(PROJECTS.xefis_autotest.executable))

# Convenience shortcut:
.PHONY: manualtest
manualtest: $(call mktarget,$(PROJECTS.xefis_manualtest.executable))

include machines/Makefile.machines
include $(foreach machine,$(XEFIS_MACHINES), machines/$(machine)/Makefile.sources)

define MACHINE_TEMPLATE =
 PROJECTS += machine.$(1)
 PROJECTS.machine.$(1).executable	= machine.$(1)
 PROJECTS.machine.$(1).pkgconfigs	+= $$(PROJECTS.xefis.pkgconfigs)
 PROJECTS.machine.$(1).files		+= $$(PROJECTS.xefis.files)
 PROJECTS.machine.$(1).files_moc	+= $$(PROJECTS.xefis.files_moc)
 PROJECTS.machine.$(1).pkgconfigs	+= $$(XEFIS_MACHINES.$(1).pkgconfigs)
 PROJECTS.machine.$(1).files		+= $$(addprefix machines/$(1)/,$$(XEFIS_MACHINES.$(1).files))
 PROJECTS.machine.$(1).files_moc	+= $$(addprefix machines/$(1)/,$$(XEFIS_MACHINES.$(1).files_moc))
endef

$(foreach machine,$(XEFIS_MACHINES),$(eval $(call MACHINE_TEMPLATE,$(machine))))

